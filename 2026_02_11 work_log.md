# 2026_02_11 WORK_LOG

## FWEE_Vietnam 삭제되지 않는 건 해결
<img width="1721" height="305" alt="스크린샷 2026-02-11 162140" src="https://github.com/user-attachments/assets/49fdc837-a8e9-4a68-b6ba-26e2bc9dec49" />
* 다음과 같이, 2025년 11월 11일 주문번호가 계속 남아있는 문제 발생

```
date = page.locator("div.eds-table__body-container div.eds-scrollbar__content tbody tr").first.locator("td").nth(6).inner_text().strip()
date = date.split()[0].split("/")[-1]

if country == "Vietnam" and date == "2025":
  print(f"{country} Skip")
  break

# Arrange shipment time에서 2025이 들어가도 break 될 수 있게 짬
```

## Pre-declare의 경우 100개씩 다운로드 되게 설정
```
while True:
    empty = page.locator("div.eds-table__empty div.eds-default-page__content:has-text('No Orders Found')")
    if empty.is_visible():
        print("데이터 없음")
        break

    else:
        # 새로고침 후에 너무 빨라서 클릭이 제대로 안 됨 -> timeout 부여 
        page.wait_for_timeout(3000)

        # select All 버튼 클릭
        select_all = page.locator("div.eds-table-scrollX-left div.eds-table__main-header tr th").nth(0).locator("label.eds-checkbox > span")
        select_all.wait_for(state="attached")
        select_all.click()

        # Bind 어쩌고 버튼 클릭 
        bind_button = page.locator("div.inline-fixed div.eds-popover__ref button").inner_text().strip()
        print(bind_button)

        date = page.locator("div.eds-table__body-container div.eds-scrollbar__content tbody tr").first.locator("td").nth(6).inner_text().strip()
        date = date.split()[0].split("/")[-1]

        if country == "Vietnam" and date == "2025":
            print(f"{country} Skip")
    # 다운로드한 후, 새로고침으로 제대로 차감되었는지 확인
    page.reload(wait_until="load",timeout=PLAYWRIGHT_NAV_TIMEOUT_MS)
```
* 페이지를 확인해보니 다운로드를 모두 받았을 경우, `No Orders Found`가 뜸
* 해당 문구가 뜨면 break **(while문 탈출)**

---
✏️ 문자열을 조작하는 방법 익힘
✏️ playwright에서 조작법이 익숙해짐
